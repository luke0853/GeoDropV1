<h3 class="text-2xl font-bold text-white mb-8 bg-black px-4 py-2 rounded-lg">⚙️ Einstellungen</h3>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    <!-- Username Settings -->
    <div class="bg-gray-700 rounded-lg p-6">
        <h3 class="text-xl font-semibold text-white mb-4">👤 Benutzername</h3>
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Benutzername:</label>
                <div class="flex space-x-2">
                    <input type="text" id="settings-username" class="flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-blue-500 focus:outline-none" placeholder="Benutzername" inputmode="text" autocomplete="username" autocapitalize="off" autocorrect="off" spellcheck="false">
                    <button onclick="saveUsername()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                        💾 Speichern
                    </button>
                </div>
                <div class="text-xs text-gray-400 bg-gray-800 p-2 rounded mt-2">
                    💡 Tipp: Der Benutzername ersetzt deine E-Mail-Adresse im Spiel
                </div>
            </div>
        </div>
    </div>
    
    <!-- Email Settings -->
    <div class="bg-gray-700 rounded-lg p-6">
        <h3 class="text-xl font-semibold text-white mb-4">📧 E-Mail Einstellungen</h3>
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Aktuelle E-Mail:</label>
                <input type="email" id="settings-email" class="w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-blue-500 focus:outline-none" placeholder="E-Mail-Adresse">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Neue E-Mail:</label>
                <input type="email" id="settings-new-email" class="w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-blue-500 focus:outline-none" placeholder="Neue E-Mail-Adresse">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-300 mb-2">Passwort bestätigen:</label>
                <input type="password" id="settings-password" class="w-full px-4 py-2 bg-gray-600 text-white rounded-lg border border-gray-500 focus:border-blue-500 focus:outline-none" placeholder="Passwort">
            </div>
            <button id="update-email-btn" class="w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                📧 E-Mail aktualisieren
            </button>
        </div>
    </div>
    
    <!-- Notification Settings -->
    <div class="bg-gray-700 rounded-lg p-6">
        <h3 class="text-xl font-semibold text-white mb-4">🔔 Benachrichtigungen</h3>
        <div class="space-y-4">
            <div class="flex items-center justify-between">
                <span class="text-gray-300">E-Mail Benachrichtigungen</span>
                <input type="checkbox" id="notify-email" class="w-4 h-4 text-blue-600 bg-gray-600 border-gray-500 rounded focus:ring-blue-500">
            </div>
            <div class="flex items-center justify-between">
                <span class="text-gray-300">Push Benachrichtigungen</span>
                <input type="checkbox" id="notify-push" class="w-4 h-4 text-blue-600 bg-gray-600 border-gray-500 rounded focus:ring-blue-500">
            </div>
            <div class="flex items-center justify-between">
                <span class="text-gray-300">Tägliche Updates</span>
                <input type="checkbox" id="notify-daily" class="w-4 h-4 text-blue-600 bg-gray-600 border-gray-500 rounded focus:ring-blue-500">
            </div>
            <button onclick="saveNotificationSettings()" class="w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                💾 Einstellungen speichern
            </button>
        </div>
    </div>
    
    <!-- Language Settings -->
    <div class="bg-gray-700 rounded-lg p-6">
        <h3 class="text-xl font-semibold text-white mb-4" id="settings-language-title">🌍 Sprache / Language</h3>
        <div class="space-y-4">
            <!-- Current Language Display -->
            <div class="bg-gray-800 rounded-lg p-4 mb-4">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-gray-300 font-medium" id="settings-current-language-label">Aktuelle Sprache / Current Language:</span>
                    <span class="text-blue-400 font-bold" id="settings-current-language-display">Deutsch</span>
                </div>
                <div class="text-sm text-gray-400" id="settings-language-status">
                    ✅ Spracheinstellung gespeichert / Language setting saved
                </div>
            </div>
            
            <!-- Language Selection -->
            <div class="space-y-3">
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg hover:bg-gray-750 transition-colors cursor-pointer" onclick="switchLanguage('de')">
                    <div class="flex items-center">
                        <span class="text-2xl mr-3">🇩🇪</span>
                        <div>
                            <div class="text-white font-medium">Deutsch</div>
                            <div class="text-gray-400 text-sm">German - Vollständige Übersetzung</div>
                        </div>
                    </div>
                    <input type="radio" name="language" value="de" id="lang-de" class="w-4 h-4 text-blue-600 bg-gray-600 border-gray-500 rounded focus:ring-blue-500" checked>
                </div>
                
                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg hover:bg-gray-750 transition-colors cursor-pointer" onclick="switchLanguage('en')">
                    <div class="flex items-center">
                        <span class="text-2xl mr-3">🇺🇸</span>
                        <div>
                            <div class="text-white font-medium">English</div>
                            <div class="text-gray-400 text-sm">Englisch - Complete Translation</div>
                        </div>
                    </div>
                    <input type="radio" name="language" value="en" id="lang-en" class="w-4 h-4 text-blue-600 bg-gray-600 border-gray-500 rounded focus:ring-blue-500">
                </div>
            </div>
            
            <!-- Language Selection Script -->
            <script>
                // Mark current language as selected when page loads
                document.addEventListener('DOMContentLoaded', function() {
                    const currentLanguage = localStorage.getItem('selectedLanguage') || 'de';
                    const deRadio = document.getElementById('lang-de');
                    const enRadio = document.getElementById('lang-en');
                    
                    if (currentLanguage === 'de') {
                        deRadio.checked = true;
                        enRadio.checked = false;
                    } else if (currentLanguage === 'en') {
                        deRadio.checked = false;
                        enRadio.checked = true;
                    }
                });
                
                // Update radio buttons when language is switched
                function switchLanguage(lang) {
                    const deRadio = document.getElementById('lang-de');
                    const enRadio = document.getElementById('lang-en');
                    
                    if (lang === 'de') {
                        deRadio.checked = true;
                        enRadio.checked = false;
                    } else if (lang === 'en') {
                        deRadio.checked = false;
                        enRadio.checked = true;
                    }
                    
                    // Save language preference
                    localStorage.setItem('selectedLanguage', lang);
                    
                    // Update language display
                    const currentLanguageDisplay = document.getElementById('settings-current-language-display');
                    if (currentLanguageDisplay) {
                        currentLanguageDisplay.textContent = lang === 'de' ? 'Deutsch' : 'English';
                    }
                    
                    // Update all other language switchers using global function
                    if (window.syncAllLanguageSwitchers) {
                        window.syncAllLanguageSwitchers(lang);
                    }
                    
                    console.log('Language switched to:', lang);
                }
            </script>
            
            <!-- Language Preview -->
            <div class="bg-gray-800 rounded-lg p-4 mt-4">
                <h4 class="text-white font-medium mb-3" id="settings-language-preview-title">🔍 Sprachvorschau / Language Preview</h4>
                <div class="space-y-2 text-sm">
                    <div class="flex justify-between">
                        <span class="text-gray-300" id="preview-label-1">Einstellungen:</span>
                        <span class="text-blue-400" id="preview-text-1">Settings</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-300" id="preview-label-2">Benutzername:</span>
                        <span class="text-blue-400" id="preview-text-2">Username</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-300" id="preview-label-3">Benachrichtigungen:</span>
                        <span class="text-blue-400" id="preview-text-3">Notifications</span>
                    </div>
                </div>
            </div>
            
            <!-- Language Information -->
            <div class="bg-blue-900 bg-opacity-30 border border-blue-600 rounded-lg p-4 mt-4">
                <h4 class="text-blue-400 font-medium mb-2" id="settings-language-info-title">ℹ️ Sprachinformationen / Language Information</h4>
                <div class="text-sm text-gray-300 space-y-1" id="settings-language-info">
                    <p>• <strong>Deutsch:</strong> Vollständige Übersetzung aller App-Bereiche</p>
                    <p>• <strong>English:</strong> Complete translation of all app sections</p>
                    <p>• <strong>Automatische Speicherung:</strong> Spracheinstellung wird in localStorage gespeichert</p>
                    <p>• <strong>Auto-save:</strong> Language setting is saved in localStorage</p>
                </div>
            </div>
            
            <!-- Language Actions -->
            <div class="flex space-x-3 mt-4">
                <button onclick="testLanguageSwitch()" class="flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors" id="settings-language-test">
                    🧪 Sprachtest / Language Test
                </button>
                <button onclick="resetLanguageSettings()" class="flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors" id="settings-language-reset">
                    🔄 Zurücksetzen / Reset
                </button>
            </div>
            
            <div class="text-xs text-gray-400 bg-gray-800 p-3 rounded mt-4" id="settings-language-tip">
                💡 Die Sprache wird sofort geändert und gespeichert / Language will be changed and saved immediately
            </div>
        </div>
    </div>
</div>









